{{ template "base" . }}

{{ define "title" }}{{ .Name }}}}{{ end }}
{{ define "content" }}
  {{ $eventName := .Name }}
  <div>
    <h3 class="mb-6 text-2xl font-bold text-gray-900 dark:text-white">
      {{ $eventName }}
    </h3>
    <hr class="mb-6 border-gray-200 dark:border-gray-700" />
    <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Results</h3>
    <div class="mb-8 overflow-x-auto rounded">
      <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
        <thead class="bg-gray-50 dark:bg-gray-700">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300">Player</th>
            <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300">Result</th>
            <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-300">Deck</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800">
          {{ range .Results }}
            <tr class="hover:bg-gray-700">
              <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100">
                {{ .Name }}
              </td>
              <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100">
                {{ .Result }}
              </td>
              {{ if .Deck }}
                <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100">
                  {{ .Deck }}
                  {{ if .Decklist }}
                    <a
                      href="/decklists/{{ .Decklist }}?player={{ .Name }}&event={{ $eventName }}"
                      class="dark:text-blue-400 text-blue-600 hover:underline"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      decklist
                      <span class="material-symbols-outlined text-sm">article_shortcut</span>
                    </a>
                  {{ end }}
                </td>
              {{ else }}
                <td class="whitespace-nowrap px-6 py-4 text-sm italic text-gray-500 dark:text-gray-400">No deck submitted</td>
              {{ end }}
            </tr>
          {{ end }}
        </tbody>
      </table>
    </div>
    <hr class="mb-6 border-gray-200 dark:border-gray-700" />
    <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Matches</h3>
    <div class="overflow-x-auto rounded">
      <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
        <tbody class="divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800">
          {{ range .Matches }}
            <tr class="hover:bg-gray-700">
              <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100">
                {{ .Player1 }}
              </td>
              <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100">
                {{ .Player2 }}
              </td>
              <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-900 dark:text-gray-100">
                {{ .Result }}
              </td>
            </tr>
          {{ end }}
        </tbody>
      </table>
    </div>
  </div>
{{ end }}
