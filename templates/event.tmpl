{{ template "base" . }}

{{ define "title" }}{{ .Name }}}}{{ end }}
{{ define "content" }}
  {{ $eventName := .Name }}
  <div>
    <h3 class="mb-4 text-2xl font-bold text-gray-900 dark:text-white">
      {{ $eventName }}
    </h3>
    <hr class="mb-4 border-gray-200 dark:border-gray-700" />
    <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Results</h3>
    <div class="mb-8 overflow-x-auto rounded">
      <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
        <thead class="bg-gray-50 dark:bg-gray-700">
          <tr>
            <th class="{{ $.Scheme.TableHeader }}">Player</th>
            <th class="{{ $.Scheme.TableHeader }}">Result</th>
            <th class="{{ $.Scheme.TableHeader }}">Deck</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800">
          {{ range .Results }}
            <tr class="{{ $.Scheme.TableRowHover }}">
              <td class="px-6 py-4 text-sm whitespace-nowrap text-gray-900 dark:text-gray-100" onclick="window.location='{{ .URL }}'">
                {{ .Name }}
              </td>
              <td class="px-6 py-4 text-sm whitespace-nowrap text-gray-900 dark:text-gray-100" onclick="window.location='{{ .URL }}'">
                {{ .Result }}
              </td>
              {{ if .Deck }}
                <td class="px-6 py-4 text-sm whitespace-nowrap text-gray-900 dark:text-gray-100">
                  {{ .Deck }}
                  {{ if .Decklist }}
                    <a href="/decklists/{{ .Decklist }}?player={{ .Name }}&event={{ $eventName }}" class="{{ $.Scheme.Link }}">
                      decklist
                      <span class="material-symbols-outlined inline-material">article_shortcut</span>
                    </a>
                  {{ end }}
                </td>
              {{ else }}
                <td class="px-6 py-4 text-sm whitespace-nowrap text-gray-500 italic dark:text-gray-400">No deck submitted</td>
              {{ end }}
            </tr>
          {{ end }}
        </tbody>
      </table>
    </div>
    <hr class="mb-6 border-gray-200 dark:border-gray-700" />
    <details>
      <summary class="flex cursor-pointer gap-4">
        <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Matches</h3>
        <div>
          <span class="{{ $.Scheme.SymbolPrimary }} inline-material text-3xl"> arrow_drop_down </span>
        </div>
      </summary>

      <div class="overflow-x-auto rounded">
        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
          <tbody class="divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800">
            {{ range .Matches }}
              <tr class="{{ $.Scheme.TableRowHover }}">
                <td class="px-6 py-4 text-sm whitespace-nowrap text-gray-900 dark:text-gray-100">
                  {{ .Player1 }}
                </td>
                <td class="px-6 py-4 text-sm whitespace-nowrap text-gray-900 dark:text-gray-100">
                  {{ .Player2 }}
                </td>
                <td class="px-6 py-4 text-sm whitespace-nowrap text-gray-900 dark:text-gray-100">
                  {{ .Result }}
                </td>
              </tr>
            {{ end }}
          </tbody>
        </table>
      </div>
    </details>
  </div>
  <div class="mt-8 flex justify-center">
    <button class="{{ .Scheme.ButtonBack }}" onclick="history.back()">Go Back</button>
  </div>
{{ end }}
